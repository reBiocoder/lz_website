(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[26],{e726:function(a,t,e){"use strict";e.r(t);var l=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("div",{staticClass:"q-pa-md"},[e("div",{staticClass:"q-card"},[e("q-tab-panel",{attrs:{name:"mails"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"text-h6 col-8"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-5"},[a._v("当前选择的表格为："+a._s(a.table_title))]),e("div",{staticClass:"col-3"},[e("q-select",{staticStyle:{height:"30px"},attrs:{outlined:"",options:a.options,label:"请选择导入表格",dense:""},on:{input:a.selectTable},model:{value:a.model,callback:function(t){a.model=t},expression:"model"}})],1),e("div",{staticClass:"col-4"})])]),e("div",{staticClass:"col-2"},[e("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:a.table_title,attrs:{type:"file"},on:{change:a.getUploadFile}}),e("q-btn",{attrs:{color:"black",label:"导入"},on:{click:function(t){return t.stopPropagation(),a.triggerChangeFile(a.table_title)}}})],1),e("div",{staticClass:"col-2"},[e("q-btn",{attrs:{color:"black",label:"导出"}})],1)]),e("q-table",{staticClass:"q-mt-md",attrs:{data:a.data,columns:a.columns,"row-key":"name",separator:"cell","no-data-label":a.table_title},scopedSlots:a._u([{key:"no-data",fn:function(t){var l=t.message;return[e("div",{staticClass:"text-left"},[a._v("\n              以上是"),e("span",{staticClass:"text-orange"},[a._v(a._s(l))]),a._v("的表头部分，请严格按照表头的编码上传数据\n            ")])]}}])})],1)],1)])])},s=[],i=(e("7f7f"),e("28a5"),e("bca3")),n={name:"importExcel",data:function(){return{table_title:"",model:null,options:["padj_log2","cyano_genomes","cyano_all_gff"],panel:"mails",separator:"vertical",columns:[],data:[]}},methods:{selectTable:function(a){var t=this;this.table_title=a,i["a"].getColKeys({col_name:a},(function(a){for(var e=[],l=a.data.data.col_keys,s=0,i=l.length;s<i;++s)e.push({name:l[s],label:l[s],align:"center",field:l[s]});t.columns=e}))},triggerChangeFile:function(a){this.$refs[a].click()},getUploadFile:function(a){var t=a.target.files[0];if(t){var e=t.name.split("."),l=e[e.length-1];"tab"===l||"xlsx"===l?this.uploadFile(t,a):this.$q.notify({message:"请选择格式为.tab的文件!"})}},uploadFile:function(a,t){var e=this;this.$q.loading.show({message:"正在上传数据，请耐心等待..."});var l=new FormData;l.append("file",a),l.append("table_name",this.table_title),i["a"].uploadexcel(l,(function(a){"success"===a.data.code?(e.$q.notify({message:"数据上传成功！",color:"positive"}),e.$q.loading.hide(),t.target.value=""):(e.$q.notify({message:"数据上传失败！",color:"error"}),e.$q.loading.hide(),t.target.value="")}))}}},o=n,c=e("2877"),r=e("f09f"),d=e("823b"),p=e("ddd8"),u=e("9c40"),f=e("eaac"),m=e("eebe"),v=e.n(m),b=Object(c["a"])(o,l,s,!1,null,"619e9ed1",null);t["default"]=b.exports;v()(b,"components",{QCard:r["a"],QTabPanel:d["a"],QSelect:p["a"],QBtn:u["a"],QTable:f["a"]})}}]);